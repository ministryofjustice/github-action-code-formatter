name: 'Code-Formatter'
desciption: 'Format Ruby, Terraform, YAML, Python, Markdown and JSON file within a PR'
runs:
  using: "composite"  
  steps:
    - uses: actions/checkout@v3
      with:
        repository: ${{ github.repository }}
        ref: ${{ github.head_ref }}
    - uses: ruby/setup-ruby@v1
      with:
        ruby-version: '3.0'
    - run: | 
        npm install prettier
        pip3 install autopep8
        bundle init
        bundle add standardrb
        git config user.name 'github-actions[bot]'
        git config user.email 'github-actions[bot]@users.noreply.github.com'
        base_branch_sha=$(git rev-parse --short ${GITHUB_BASE_REF})
        branch_sha=$(git rev-parse --short ${GITHUB_REF_NAME})
        echo $base_branch_sha
        echo $branch_sha
      shell: bash
